(this["webpackJsonpphone-catalogue-client"]=this["webpackJsonpphone-catalogue-client"]||[]).push([[0],{39:function(e,t,n){},58:function(e,t,n){},64:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),c=n.n(s),r=n(31),i=n.n(r),o=(n(39),n(4)),l=n(5),h=n(7),u=n(6),j=n(2),d=n(13),b=n.n(d),p=n(15),m=n(32),O=n.n(m),x=new(function(){function e(){var t=this;Object(o.a)(this,e),this.newPhone=function(){var e=Object(p.a)(b.a.mark((function e(n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.post("/phones/new",n);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.handleUpload=function(){var e=Object(p.a)(b.a.mark((function e(n,a){var s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new FormData).append("file",n),e.next=5,t.axios.post("/uploadphone/".concat(a),s,{headers:{"Content-Type":"multipart/form-data"}});case 5:return c=e.sent,e.abrupt("return",c.data);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),this.axios=O.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,withCredentials:!0})}return Object(l.a)(e,[{key:"getAllPhones",value:function(){return this.axios.get("/phones").then((function(e){return e.data}))}},{key:"getAPhone",value:function(e){return this.axios.get("/phones/".concat(e)).then((function(e){return e.data}))}},{key:"deleteAPhone",value:function(e){return this.axios.delete("/phones/".concat(e)).then((function(e){return e.data}))}},{key:"editAPhone",value:function(e,t){return this.axios.put("/phones/".concat(e),t).then((function(e){return e.data}))}}]),e}()),f=(n(58),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("div",{children:Object(a.jsx)("h3",{className:"name",children:this.props.onePhone.name})}),Object(a.jsxs)("div",{className:"card-content",children:[Object(a.jsx)("div",{className:"distr-card",children:Object(a.jsx)("img",{src:this.props.onePhone.imageFileUrl,alt:this.props.onePhone.name})}),Object(a.jsxs)("div",{className:"distr-card text",children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"bold-text",children:"Screen:"}),this.props.onePhone.screen,'"']}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"bold-text",children:"Manufacturer:"}),this.props.onePhone.manufacturer]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"bold-text",children:"Processor:"}),this.props.onePhone.processor]})]}),Object(a.jsx)("div",{className:"price-position",children:Object(a.jsxs)("p",{className:"price",children:[this.props.onePhone.price,",00\u20ac"]})})]})]})]},this.props.onePhone._id)}}]),n}(s.Component)),v=n(9),g=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("ul",{children:this.props.eachPhone.map((function(e,t){return Object(a.jsx)(v.b,{to:"/phone/".concat(e._id),children:Object(a.jsx)(f,{onePhone:e},t)},e._id)}))})}}]),n}(s.Component);n(64);var N=function(){return Object(a.jsxs)("nav",{className:"navbar nav-color is-fixed-top",role:"navigation","aria-label":"main navigation",children:[Object(a.jsx)("div",{className:"navbar-brand",children:Object(a.jsx)("a",{className:"navbar-item",href:"http://localhost:3000/",children:Object(a.jsx)("h1",{className:"h1-nav",children:"PHONES"})})}),Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"navbar-end",children:Object(a.jsx)("div",{className:"navbar-item",children:Object(a.jsx)("div",{className:"buttons",children:Object(a.jsx)(v.b,{to:"/new",className:"button is-light ",children:Object(a.jsx)("p",{className:"h1-nav add",children:"Add new phone"})})})})})})]})},P=n(14),y=n.n(P),C=(n(70),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={listOfPhones:[],isLoading:!1},e.getAllPhonesList=function(){e.setState({isLoading:!0}),x.getAllPhones().then((function(t){e.setState({listOfPhones:t,isLoading:!1})})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getAllPhonesList()}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(N,{}),Object(a.jsxs)("div",{className:"page",children:[this.state.isLoading&&Object(a.jsx)("div",{className:"spinner",children:Object(a.jsx)(y.a,{color:"#16697a",loading:this.state.isLoading})}),!this.state.isLoading&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"home-title",children:"Which phone are you looking for?"}),Object(a.jsx)(g,{eachPhone:this.state.listOfPhones})]})]})]})}}]),n}(s.Component)),S=(n(71),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleFormSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state.currentPhone,a.state.file)},a.handleFileUpload=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0],a.setState({file:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={currentPhone:e.currentPhone&&e.currentPhone._id?e.currentPhone:{},file:e.file},a}return Object(l.a)(n,[{key:"handleChange",value:function(e,t){var n=this.state.currentPhone;n[t]=e.target.value,this.setState({currentPhone:n})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("form",{className:"phone-form",onSubmit:this.handleFormSubmit,children:[Object(a.jsx)("label",{className:"label-form",children:"Name:"}),Object(a.jsx)("input",{type:"text",name:"name",className:"input-form",value:this.state.currentPhone.name,onChange:function(t){return e.handleChange(t,"name")}}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"label-form",children:"Manufacturer:"}),Object(a.jsx)("input",{type:"text",name:"manufacturer",className:"input-form",value:this.state.currentPhone.manufacturer,onChange:function(t){return e.handleChange(t,"manufacturer")}}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"label-form",children:"Description:"}),Object(a.jsx)("input",{type:"text",name:"description",className:"input-form",value:this.state.currentPhone.description,onChange:function(t){return e.handleChange(t,"description")}}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"label-form",children:"Color:"}),Object(a.jsx)("input",{type:"text",name:"color",className:"input-form",value:this.state.currentPhone.color,onChange:function(t){return e.handleChange(t,"color")}}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"label-form",children:"Price:"}),Object(a.jsx)("input",{type:"text",name:"price",className:"input-form",value:this.state.currentPhone.price,onChange:function(t){return e.handleChange(t,"price")}}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"file-upload",className:"label-form",children:"Image:"}),Object(a.jsx)("input",{id:"file-upload",type:"file",className:"input-form",onChange:function(t){return e.handleFileUpload(t)}}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{id:"info"}),Object(a.jsx)("label",{className:"label-form",children:"Screen:"}),Object(a.jsx)("input",{type:"text",name:"screen",className:"input-form",value:this.state.currentPhone.screen,onChange:function(t){return e.handleChange(t,"screen")}}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"label-form",children:"Processor:"}),Object(a.jsx)("input",{type:"text",name:"processor",className:"input-form",value:this.state.currentPhone.processor,onChange:function(t){return e.handleChange(t,"processor")}}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{className:"label-form",children:"Ram:"}),Object(a.jsx)("input",{type:"text",name:"ram",className:"input-form",value:this.state.currentPhone.ram,onChange:function(t){return e.handleChange(t,"ram")}}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{className:"phone-form-button",type:"submit",value:"Submit"})]})}}]),n}(s.Component)),k=(n(72),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={isLoading:!1},e.handleFormSubmit=function(){var t=Object(p.a)(b.a.mark((function t(n,a){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({isLoading:!0}),t.next=4,x.newPhone(n);case 4:return s=t.sent,t.next=7,x.handleUpload(a,s._id);case 7:e.props.history.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("Error while adding a new phone: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(N,{}),Object(a.jsxs)("div",{className:"page",children:[Object(a.jsxs)(v.b,{to:"/",children:[Object(a.jsx)("img",{className:"icons",src:"../../../goback.png",alt:"back"})," "]}),this.state.isLoading&&Object(a.jsx)("div",{className:"spinner",children:Object(a.jsx)(y.a,{color:"#16697a",loading:this.state.isLoading})}),!this.state.isLoading&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"add-title",children:"Add a new phone!"}),Object(a.jsx)(S,{onSubmit:this.handleFormSubmit})]})]})]})}}]),n}(s.Component));n(73);var L=function(e){var t=e.eachPhoneDetail;return Object(a.jsxs)("div",{className:"card-detail",children:[Object(a.jsxs)("div",{className:"title-photo",children:[Object(a.jsx)("h1",{className:"name-title",children:t.name}),Object(a.jsx)("img",{className:"img-detail",src:t.imageFileUrl,alt:"imageFile"})]}),Object(a.jsxs)("div",{className:"text-details",children:[Object(a.jsxs)("div",{className:"description",children:[Object(a.jsx)("p",{className:"details",children:t.description}),Object(a.jsx)("br",{})]}),Object(a.jsxs)("p",{className:"details",children:[Object(a.jsx)("span",{className:"bold-text",children:"Manufacturer:"}),t.manufacturer]}),Object(a.jsxs)("p",{className:"details",children:[Object(a.jsx)("span",{className:"bold-text",children:"Color:"})," ",t.color]}),Object(a.jsxs)("p",{className:"details",children:[Object(a.jsx)("span",{className:"bold-text",children:"Screen:"})," ",t.screen]}),Object(a.jsxs)("p",{className:"details",children:[Object(a.jsx)("span",{className:"bold-text",children:"Processor:"}),t.processor]}),Object(a.jsxs)("p",{className:"details",children:[Object(a.jsx)("span",{className:"bold-text",children:"Ram:"})," ",t.ram]}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"price",children:Object(a.jsxs)("p",{children:[t.price,",00\u20ac"]})})]})]})},w=(n(74),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={aPhone:{},isLoading:!1},e.getOnePhone=function(){var t=e.props.match.params;e.setState({isLoading:!0}),x.getAPhone(t.id).then((function(t){e.setState({aPhone:t,isLoading:!1})})).catch((function(e){console.log(e)}))},e.deleteOnePhone=function(){var t=e.props.match.params;x.deleteAPhone(t.id).then((function(){e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getOnePhone()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)(N,{}),Object(a.jsxs)("div",{className:"page",children:[this.state.isLoading&&Object(a.jsx)("div",{className:"spinner",children:Object(a.jsx)(y.a,{color:"#16697a",loading:this.state.isLoading})}),!this.state.isLoading&&Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"action-btn",children:[Object(a.jsx)(v.b,{to:"/",children:Object(a.jsx)("img",{className:"icons",src:"../../../goback.png",alt:"back"})}),Object(a.jsxs)("div",{className:"actions",children:[Object(a.jsx)(v.b,{to:"/edit/".concat(this.state.aPhone._id),children:Object(a.jsx)("img",{className:"icons margin_buttons",src:"../../../edit.png",alt:"edit"})}),Object(a.jsx)("button",{className:"delete-btn",onClick:function(){return e.deleteOnePhone()},children:Object(a.jsx)("img",{className:"icons",src:"../../../delete.png",alt:"delete"})})]})]}),Object(a.jsx)(L,{eachPhoneDetail:this.state.aPhone})]})]})]})}}]),n}(s.Component)),A=(n(75),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={currentPhone:{},isLoading:!1},e.getOnePhone=function(){var t=e.props.match.params;e.setState({isLoading:!0}),x.getAPhone(t.id).then((function(t){e.setState({currentPhone:t,isLoading:!1})})).catch((function(e){console.log(e)}))},e.handleFormSubmit=function(t,n){e.setState({isLoading:!0}),x.editAPhone(t._id,t).then((function(){n?x.handleUpload(n,t._id).then((function(){e.setState({isLoading:!1}),e.props.history.push("/")})):(e.setState({isLoading:!1}),e.props.history.push("/"))})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"handleFileUpload",value:function(e){var t=this,n=e.target.files[0];x.handleUpload(n).then((function(e){t.setState({currentPhone:e})}))}},{key:"handleChange",value:function(e,t){var n=this.state.currentPhone;n[t]=e.target.value,this.setState({currentPhone:n})}},{key:"componentDidMount",value:function(){this.getOnePhone()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)(N,{}),Object(a.jsxs)("div",{className:"page",children:[Object(a.jsxs)(v.b,{to:"/",children:[Object(a.jsx)("img",{className:"icons",src:"../../../goback.png",alt:"back"})," "]}),this.state.isLoading&&Object(a.jsx)("div",{className:"spinner",children:Object(a.jsx)(y.a,{color:"#16697a",loading:this.state.isLoading})}),!this.state.isLoading&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"edit-title",children:"Edit form"}),Object(a.jsx)(S,{onSubmit:function(t,n){return e.handleFormSubmit(t,n)},currentPhone:this.state.currentPhone})]})]})]})}}]),n}(s.Component)),_=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",component:C}),Object(a.jsx)(j.a,{exact:!0,path:"/new",component:k}),Object(a.jsx)(j.a,{exact:!0,path:"/phone/:id",component:w}),Object(a.jsx)(j.a,{exact:!0,path:"/edit/:id",component:A})]})}}]),n}(s.Component),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(v.a,{children:Object(a.jsx)(_,{})})}),document.getElementById("root")),F()}},[[76,1,2]]]);
//# sourceMappingURL=main.2cb64749.chunk.js.map